	<%- include("../../views/partials/user/header") %>
		<style>
			.custom-notification {
							position: fixed;
							bottom: -100px;
							left: 50%;
							transform: translateX(-50%);
							background-color: #4CAF50;
							color: white;
							padding: 15px 30px;
							border-radius: 25px;
							font-family: Arial, sans-serif;
							font-size: 16px;
							box-shadow: 0 2px 5px rgba(0,0,0,0.2);
							opacity: 0;
							visibility: hidden;
							transition: all 0.4s ease-out;
							z-index: 9999;
							display: flex;
							align-items: center;
							gap: 10px;
					}

					.custom-notification.active {
							bottom: 20px;
							opacity: 1;
							visibility: visible;
					}

					.custom-notification::before {
							content: '✓';
							font-weight: bold;
							font-size: 18px;
					}
		</style>

			
			<!-- Google Font -->
			<link href='https://fonts.googleapis.com/css?family=Lato:400,700,900' rel='stylesheet' type='text/css'>
			<link href='https://fonts.googleapis.com/css?family=Bree+Serif' rel='stylesheet' type='text/css'>

			<!-- all css here -->
	<!-- bootstrap v3.3.6 css -->
	<link rel="stylesheet" href="/user/css/bootstrap.min.css">
	<!-- animate css -->
	<link rel="stylesheet" href="/user/css/animate.min.css">
	<!-- jquery-ui.min css -->
	<link rel="stylesheet" href="/user/css/jquery-ui.min.css">
	<!-- meanmenu css -->
	<link rel="stylesheet" href="/user/css/meanmenu.min.css">
	<!-- nivo-slider css -->
	<link rel="stylesheet" href="/user/lib/css/nivo-slider.css">
	<link rel="stylesheet" href="/user/lib/css/preview.css">
	<!-- slick css -->
	<link rel="stylesheet" href="/user/css/slick.min.css">
	<!-- lightbox css -->
	<link rel="stylesheet" href="/user/css/lightbox.min.css">
	<!-- material-design-iconic-font css -->
	<link rel="stylesheet" href="/user/css/material-design-iconic-font.css">
	<!-- All common css of theme -->
	<link rel="stylesheet" href="/user/css/default.css">
	<!-- style css -->
	<link rel="stylesheet" href="/user/style.min.css">
	<!-- shortcode css -->
	<link rel="stylesheet" href="/user/css/shortcode.css">
	<!-- responsive css -->
	<link rel="stylesheet" href="/user/css/responsive.css">
	<!-- modernizr css -->
	<script src="/user/js/vendor/modernizr-3.11.2.min.js"></script>
	<style>
		.magnify{
		border-radius: 10%;
		border: 2px solid black;
		position: absolute;
		z-index: 20;
		background-repeat: no-repeat;
		background-color: white;
		display: none;
		cursor: none;
	}
	.offer-badge {
			position: absolute;
			top: 15px;
			right: 15px;
			background-color: #4CAF50;
			color: white;
			padding: 8px 15px;
			border-radius: 25px;
			font-size: 14px;
			font-weight: bold;
			z-index: 10;
			box-shadow: 0 3px 6px rgba(0,0,0,0.16);
			text-transform: uppercase;
		}
		.out-of-stock {
					color: #e74c3c;
					font-size: 16px;
					font-weight: 600;
					margin: 10px 0;
					letter-spacing: 0.5px;
					position: relative;
					
			}

			.out-of-stock::before {
					
					position: absolute;
					left: 0;
					top: 10%;
					
					font-size: 20px;
					font-weight: 700;
			}
			.product-image-container {
					position: relative;
					padding-top: 100%;
					overflow: hidden;
					border-radius: 8px;
					background: #f5f5f5;
			}

			.product-image-container img {
					position: absolute;
					top: 0;
					left: 0;
					width: 100%;
					height: 100%;
					object-fit: cover;
					transition: transform 0.3s ease;
			}

			.product-details {
					padding: 15px 5px 0;
			}

			.product-name {
					font-size: 14px;
					line-height: 1.4;
					height: 2.8em;
					overflow: hidden;
					text-overflow: ellipsis;
					display: -webkit-box;
					-webkit-line-clamp: 2;
					-webkit-box-orient: vertical;
					margin-bottom: 8px;
					font-weight: 500;
					color: #333;
			}

			.price-container {
					display: flex;
					align-items: center;
					gap: 8px;
			}

			.current-price {
					font-size: 16px;
					font-weight: 700;
					color: #2ecc71;
			}

			.original-price {
					font-size: 13px;
					color: #888;
					text-decoration: line-through;
			}

			.related-offer-badge {
					position: absolute;
					top: 12px;
					right: 12px;
					background: #4CAF50;
					color: white;
					padding: 4px 10px;
					border-radius: 15px;
					font-size: 12px;
					font-weight: 600;
					z-index: 2;
					box-shadow: 0 2px 5px rgba(0,0,0,0.1);
			}

			@media (max-width: 768px) {
					.product-card {
							flex: 0 0 calc(33.33% - 20px);
					}
					
					.product-name {
							font-size: 13px;
					}
					
					.current-price {
							font-size: 14px;
					}
			}
	</style>
		</head>
		<body>	
			<!-- WRAPPER START -->
			<div class="wrapper bg-dark-white">

		
				<!-- HEADER-AREA END -->
				
				<!-- Mobile-menu end -->
				<!-- HEADING-BANNER START -->
				<div class="main">

				
				<div class="heading-banner-area overlay-bg" >
					<div class="container">
						<div class="row">
							<div class="col-md-12">
								<div class="heading-banner">
									<div class="heading-banner-title">
										<h2>Single Product</h2>
									</div>
									<div class="breadcumbs pb-15">
										<ul>
											<li><a href="/user/home">Home</a></li>
											<li><a href="/user/shop">shop</a></li>
											<li><a href="/user/shop/<%= product.category %>"><%= product.category %></a></li>
											<li><%= product.name %></li>
										</ul>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
				<!-- HEADING-BANNER END -->
				<!-- PRODUCT-AREA START -->
				<div class="product-area single-pro-area pt-80 pb-80 product-style-2">
					<div class="container">	
						<div class="row shop-list single-pro-info no-sidebar">
							<!-- Single-product start -->
							<div class="col-lg-12">
								<div class="col-lg-12">
									<div class="single-product clearfix">
										<!-- Single-pro-slider Big-photo start -->
										<div class="single-pro-slider single-big-photo view-lightbox slider-for">
											<% for (let i = 0; i < 3; i++) { %>
												<% const imageField = `image${i}`; %>
												<div style="position: relative;">
														<% if (product.offer > 0) { %>
																<div class="offer-badge"><%= product.offer %>% OFF</div>
														<% } %>
														<img class="biggimg" src="<%= product[imageField] %>" alt="Product Image" />
												</div>
										<% } %>
										</div>
										<!-- Single-pro-slider Big-photo end -->
								
										<div class="product-info">
											<!-- Product Title and Rating -->
											<div class="fix">
												<h4 class="post-title floatleft"><%= product.name %></h4>
												<span class="pro-rating floatright">
													<a href="#"><i class="zmdi zmdi-star"></i></a>
													<a href="#"><i class="zmdi zmdi-star"></i></a>
													<a href="#"><i class="zmdi zmdi-star"></i></a>
													<a href="#"><i class="zmdi zmdi-star-half"></i></a>
													<a href="#"><i class="zmdi zmdi-star-half"></i></a>
													<span>(27 Ratings)</span>
												</span>
											</div>
								
											<!-- Price -->
											<!-- In the price section -->
	<div class="fix mb-20">
		<% if (product.offer > 0) { %>
				<span class="pro-price">
						$<%= (Number(product.price) * (1 - product.offer/100)).toFixed(2) %>
						<span style="text-decoration: line-through; color: #999; margin-left: 8px; font-size: 0.9em;">
								$<%= Number(product.price).toFixed(2) %>
						</span>
				</span>
		<% } else { %>
				<span class="pro-price">$<%= Number(product.price).toFixed(2) %></span>
		<% } %>
	</div>
								
											
								
											<!-- Color Section -->
											<div class="color-filter single-pro-color mb-20 clearfix">
												<ul>
													<li><span class="color-title text-capitalize">color</span></li>
													<li><a class="active" href="#"><span class="color color-1"></span></a></li>
													<li><a href="#"><span class="color color-2"></span></a></li>
													<li><a href="#"><span class="color color-3"></span></a></li>
												</ul>
											</div>
								
											<!-- Size Section -->
											<div class="size-filter single-pro-size mb-35 clearfix">
												<ul>
													<li><span class="color-title text-capitalize">size</span></li>
													<li><a href="#">M</a></li>
													<li><a href="#">S</a></li>
													<li><a href="#">L</a></li>
													<li><a href="#">XL</a></li>
												</ul>
											</div>
								<!-- new start -->
											<!-- Quantity and Actions -->
										
											<% if (product.count == 0) { %>
												
												<div class="out-of-stock">out of stock</div>
										<% } else { %>
												<div class="clearfix">
													<div class="product-actions">
														<a class="luxury-button cart-btn" 
																<% if (userid) { %>
																		href="javascript:void(0);" 
																		onclick="addtocart('<%= userid %>','<%= product._id %>'); return false;"
																<% } else { %>
																		href="/user/login"
																<% } %>
														>
																<i class="zmdi zmdi-shopping-cart"></i>
																ADD TO CART
														</a>
														<a onclick="<%= userid ? `buy('${product._id}')` : `window.location.href='/user/login'` %>" class="luxury-button buynow-btn">
															BUY NOW
													</a>
													
												</div>
												</div>
										<% } %>
										<style>
											

			.related-products {
					padding: 60px 0;
					background: #f9f9f9;
			}

			.related-products .section-title {
					text-align: center;
					margin-bottom: 40px;
					font-size: 28px;
					text-transform: uppercase;
			}

			.related-products-container {
					position: relative;
					max-width: 1200px;
					margin: 0 auto;
					padding: 0 50px;
			}

			.products-grid {
					display: flex;
					overflow-x: hidden;
					scroll-behavior: smooth;
					gap: 30px;
					padding-bottom: 20px;
			}

			.product-card {
					flex: 0 0 calc(20% - 24px);
					background: white;
					padding: 15px;
					border-radius: 12px;
					box-shadow: 0 4px 15px rgba(0,0,0,0.08);
					transition: transform 0.3s ease, box-shadow 0.3s ease;
					position: relative;
					overflow: hidden;
			}

			.product-card:hover {
					transform: translateY(-5px);
					box-shadow: 0 6px 20px rgba(0,0,0,0.12);
			}

			.nav-button {
					position: absolute;
					top: 50%;
					transform: translateY(-50%);
					background: white;
					border: 2px solid #000;
					width: 40px;
					height: 40px;
					border-radius: 50%;
					cursor: pointer;
					display: flex;
					align-items: center;
					justify-content: center;
					z-index: 10;
			}

			.nav-button.prev {
					left: 0;
			}

			.nav-button.next {
					right: 0;
			}
											.product-actions {
													display: flex;
													gap: 15px;
													margin-bottom: 25px;
											}
									
											.luxury-button {
													flex: 1;
													padding: 18px 30px;
													border: 2px solid #000;
													border-radius: 0;
													font-weight: 600;
													text-transform: uppercase;
													letter-spacing: 1.5px;
													font-size: 14px;
													cursor: pointer;
													transition: all 0.3s ease;
													display: flex;
													align-items: center;
													justify-content: center;
													gap: 12px;
													background: #000;
													color: #fff;
													text-decoration: none;
													box-shadow: 0 2px 8px rgba(0,0,0,0.1);
											}
									
											.luxury-button i {
													font-size: 18px;
													color: #fff;
											}
									
											.buynow-btn {
													background: #fff;
													color: #000;
													border-color: #000;
											}
									
											.luxury-button:hover {
													background: #c5a47e; /* Luxury gold tone */
													color: #000;
													border-color: #c5a47e;
													transform: translateY(-2px);
											}
									
											.luxury-button:hover i {
													color: #000;
											}
									
											.buynow-btn:hover {
													background: #f5f5f5;
													border-color: #c5a47e;
											}
									
											@media (max-width: 768px) {
													.product-actions {
															flex-direction: column;
													}
													
													.luxury-button {
															width: 100%;
															padding: 16px 25px;
													}
											}
									</style>
								<!-- new end -->
											<!-- Single-pro-slider Small-photo start -->
											<div class="single-pro-slider single-sml-photo slider-nav">
												<% for (let i = 0; i < 3; i++) { %>
													<% const imageField = `image${i}`; %>
													<div>
														<img src="<%= product[imageField] %>" alt="Small Product Image" />
													</div>
												<% } %>
											</div>
											<!-- Single-pro-slider Small-photo end -->
										</div>
									</div>
								</div>
								
							</div>
							<!-- Single-product end -->
						</div>
						<!-- single-product-tab start -->
						<div class="single-pro-tab">
							<div class="row">
								<div class="col-md-3">
									<div class="single-pro-tab-menu">
										<!-- Nav tabs -->
										<ul class="nav d-block">
											<li><a href="#description" data-bs-toggle="tab">Description</a></li>
											<li><a class="active" href="#reviews"  data-bs-toggle="tab">Reviews</a></li>
											
										</ul>
									</div>
								</div>
								<div class="col-md-9">
									<!-- Tab panes -->
									<div class="tab-content">
										<div class="tab-pane" id="description">
											<div class="pro-tab-info pro-description">
												<p><%= product.descr%></p>
											</div>
										</div>
										<div class="tab-pane" id="reviews">
											<div class="pro-tab-info pro-reviews">
												<div class="customer-review mb-60">
													<h3 class="tab-title title-border mb-30">Customer review</h3>
													<ul class="product-comments clearfix">
														<li class="mb-30">
															<div class="pro-reviewer">
																<img src="img/reviewer/1.jpg" alt="" />
															</div>
															<div class="pro-reviewer-comment">
																<div class="fix">
																	<div class="floatleft mbl-center">
																		<h5 class="text-uppercase mb-0"><strong>Gerald Barnes</strong></h5>
																		<p class="reply-date">27 Jun, 2021 at 2:30pm</p>
																	</div>
																	<div class="comment-reply floatright">
																		<a href="#"><i class="zmdi zmdi-mail-reply"></i></a>
																		<a href="#"><i class="zmdi zmdi-close"></i></a>
																	</div>
																</div>
																<p class="mb-0">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer accumsan egestas elese ifend. Phasellus a felis at est bibendum feugiat ut eget eni Praesent et messages in con sectetur posuere dolor non.</p>
															</div>
														</li>
														<li class="threaded-comments">
															<div class="pro-reviewer">
																<img src="img/reviewer/1.jpg" alt="" />
															</div>
															<div class="pro-reviewer-comment">
																<div class="fix">
																	<div class="floatleft mbl-center">
																		<h5 class="text-uppercase mb-0"><strong>Gerald Barnes</strong></h5>
																		<p class="reply-date">27 Jun, 2021 at 2:30pm</p>
																	</div>
																	<div class="comment-reply floatright">
																		<a href="#"><i class="zmdi zmdi-mail-reply"></i></a>
																		<a href="#"><i class="zmdi zmdi-close"></i></a>
																	</div>
																</div>
																<p class="mb-0">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer accumsan egestas elese ifend. Phasellus a felis at est bibendum feugiat ut eget eni Praesent et messages in con sectetur posuere dolor non.</p>
															</div>
														</li>
													</ul>
												</div>
												<div class="leave-review">
													<h3 class="tab-title title-border mb-30">Leave your reviw</h3>
													<div class="your-rating mb-30">
														<p class="mb-10"><strong>Your Rating</strong></p>
														<span>
															<a href="#"><i class="zmdi zmdi-star-outline"></i></a>
														</span>
														<span class="separator">|</span>
														<span>
															<a href="#"><i class="zmdi zmdi-star-outline"></i></a>
															<a href="#"><i class="zmdi zmdi-star-outline"></i></a>
														</span>
														<span class="separator">|</span>
														<span>
															<a href="#"><i class="zmdi zmdi-star-outline"></i></a>
															<a href="#"><i class="zmdi zmdi-star-outline"></i></a>
															<a href="#"><i class="zmdi zmdi-star-outline"></i></a>
														</span>
														<span class="separator">|</span>
														<span>
															<a href="#"><i class="zmdi zmdi-star-outline"></i></a>
															<a href="#"><i class="zmdi zmdi-star-outline"></i></a>
															<a href="#"><i class="zmdi zmdi-star-outline"></i></a>
															<a href="#"><i class="zmdi zmdi-star-outline"></i></a>
														</span>
														<span class="separator">|</span>
														<span>
															<a href="#"><i class="zmdi zmdi-star-outline"></i></a>
															<a href="#"><i class="zmdi zmdi-star-outline"></i></a>
															<a href="#"><i class="zmdi zmdi-star-outline"></i></a>
															<a href="#"><i class="zmdi zmdi-star-outline"></i></a>
															<a href="#"><i class="zmdi zmdi-star-outline"></i></a>
														</span>
													</div>
													<div class="reply-box">
														<form action="#">
															<div class="row">
																<div class="col-md-6">
																	<input type="text" placeholder="Your name here..." name="name" />
																</div>
																<div class="col-md-6">
																	<input type="text" placeholder="Subject..." name="name" />
																</div>
															</div>
															<div class="row">
																<div class="col-md-12">
																	<textarea class="custom-textarea" name="message" placeholder="Your review here..." ></textarea>
																	<button type="submit" data-text="submit review" class="button-one submit-button mt-20">submit review</button>
																</div>
															</div>
														</form>
													</div>
												</div>
											</div>		
										</div>
										
									</div>									
								</div>
							</div>
						</div>
						<!-- single-product-tab end -->
					</div>
				</div>
			</div>
				<!-- PRODUCT-AREA END -->
				<!-- FOOTER START -->
				<div class="related-products">
					<div class="container">
							<h2 class="section-title">Related Products</h2>
							<div class="related-products-container">
									<button class="nav-button prev">❮</button>
									<button class="nav-button next">❯</button>
									<div class="products-grid">
											<% const dummyProducts = Array(10).fill({ 
													name: 'Premium Wireless Headphones with Noise Cancellation', 
													price: '299.99',
													offer: 20, // percentage
													image0: '/images/dummy-product.jpg',
													category: 'electronics'
											}); %>
											
											<% dummyProducts.forEach((product, index) => { %>
													<div class="product-card">
															<div class="product-image-container">
																	<% if (product.offer) { %>
																			<div class="related-offer-badge"><%= product.offer %>% OFF</div>
																	<% } %>
																	<img src="<%= product.image0 %>" alt="<%= product.name %>">
															</div>
															<div class="product-details">
																	<h3 class="product-name"><%= product.name %></h3>
																	<div class="price-container">
																			<% if (product.offer) { %>
																					<span class="current-price">
																							$<%= (product.price * (1 - product.offer/100)).toFixed(2) %>
																					</span>
																					<span class="original-price">$<%= product.price %></span>
																			<% } else { %>
																					<span class="current-price">$<%= product.price %></span>
																			<% } %>
																	</div>
															</div>
													</div>
											<% }); %>
									</div>
							</div>
					</div>
			</div>
			
				<footer>
					<!-- Footer-area start -->
					<div class="footer-area footer-2">
											<div class="container">
													<div class="row">
															<div class="col-lg-4 col-md-6">
																	<div class="single-footer">
																			<h3 class="footer-title  title-border">Contact Us</h3>
																			<ul class="footer-contact">
																					<li><span>Address :</span>28 Green Tower, Street Name,<br>New York City, USA</li>
																					<li><span>Cell-Phone :</span>012345 - 123456789</li>
																					<li><span>Email :</span>your-email@gmail.com</li>
																			</ul>
																	</div>
															</div>
															<div class="col-lg-2 col-md-3 col-sm-6">
																	<div class="single-footer">
																			<h3 class="footer-title  title-border">accounts</h3>
																			<ul class="footer-menu">
																					<li><a href="my-account.html"><i class="zmdi zmdi-dot-circle"></i>My Account</a></li>
																					<li><a href="wishlist.html"><i class="zmdi zmdi-dot-circle"></i>My Wishlist</a></li>
																					<li><a href="cart.html"><i class="zmdi zmdi-dot-circle"></i>My Cart</a></li>
																					<li><a href="login.html"><i class="zmdi zmdi-dot-circle"></i>Sign In</a></li>
																					<li><a href="checkout.html"><i class="zmdi zmdi-dot-circle"></i>Check out</a></li>
																			</ul>
																	</div>
															</div>
															<div class="col-lg-2 col-md-3 col-sm-6">
																	<div class="single-footer">
																			<h3 class="footer-title  title-border">shipping</h3>
																			<ul class="footer-menu">
																					<li><a href="#"><i class="zmdi zmdi-dot-circle"></i>New Products</a></li>
																					<li><a href="#"><i class="zmdi zmdi-dot-circle"></i>Top Sellers</a></li>
																					<li><a href="#"><i class="zmdi zmdi-dot-circle"></i>Manufactirers</a></li>
																					<li><a href="#"><i class="zmdi zmdi-dot-circle"></i>Suppliers</a></li>
																					<li><a href="#"><i class="zmdi zmdi-dot-circle"></i>Specials</a></li>
																			</ul>
																	</div>
															</div>
															<div class="col-lg-4 col-md-6">
																	<div class="single-footer newsletter-item">
																			<h3 class="footer-title  title-border">Email Newsletters</h3>
																			<div class="footer-subscribe">
																					<form action="#">
																							<input type="text" name="email" placeholder="Email Address..." />
																							<button class="button-one submit-btn-4" type="submit" data-text="Subscribe">Subscribe</button>
																					</form>
																			</div>
																	</div>
															</div>
													</div>
											</div>
									</div>
					<!-- Footer-area end -->
					<!-- Copyright-area start -->
					<div class="copyright-area copyright-2">
						<div class="container">
							<div class="row">
								<div class="col-md-6">
									<div class="copyright">
										<p class="mb-0">&copy; <a href="https://themeforest.net/user/codecarnival/portfolio" target="_blank">CodeCarnival </a> 2022. All Rights Reserved.</p>
									</div>
								</div>
								<div class="col-md-6">
									<div class="payment  text-md-end">
										<a href="#"><img src="img/payment/1.png" alt="" /></a>
										<a href="#"><img src="img/payment/2.png" alt="" /></a>
										<a href="#"><img src="img/payment/3.png" alt="" /></a>
										<a href="#"><img src="img/payment/4.png" alt="" /></a>
									</div>
								</div>
							</div>
						</div>
					</div>
					<!-- Copyright-area start -->
				</footer>
				<!-- FOOTER END -->
				<!-- QUICKVIEW PRODUCT -->
				
				<!-- END QUICKVIEW PRODUCT -->	
				
			</div>
			<!-- WRAPPER END -->
			<div class="custom-notification" id="customNotification">
				<span class="notification-message"></span>
		</div>
			<!-- all js here -->
	<!-- jquery latest version -->
	<script src="/user/js/vendor/jquery-3.6.0.min.js"></script>
	<script src="/user/js/vendor/jquery-migrate-3.3.2.min.js"></script>
	<!-- bootstrap js -->
	<script src="/user/js/bootstrap.bundle.min.js"></script>
	<!-- jquery.meanmenu js -->
	<script src="/user/js/jquery.meanmenu.js"></script>
	<!-- slick.min js -->
	<script src="/user/js/slick.min.js"></script>
	<!-- jquery.treeview js -->
	<script src="/user/js/jquery.treeview.js"></script>
	<!-- lightbox.min js -->
	<script src="/user/js/lightbox.min.js"></script>
	<!-- jquery-ui js -->
	<script src="/user/js/jquery-ui.min.js"></script>
	<!-- jquery.nivo.slider js -->
	<script src="/user/lib/js/jquery.nivo.slider.js"></script>
	<script src="/user/lib/home.js"></script>
	<!-- jquery.nicescroll.min js -->
	<script src="/user/js/jquery.nicescroll.min.js"></script>
	<!-- countdon.min js -->
	<script src="/user/js/countdon.min.js"></script>
	<!-- wow js -->
	<script src="/user/js/wow.min.js"></script>
	<!-- plugins js -->
	<script src="/user/js/plugins.js"></script>
	<!-- main js -->
	<script src="/user/js/main.min.js"></script>
	<script>



		/*Size is  set in pixels... supports being written as: '250px' */
	var magnifierSize = 150;

	/*How many times magnification of image on page.*/
	var magnification = 4;

	function magnifier() {

		this.magnifyImg = function(ptr, magnification, magnifierSize) {
			var $pointer;
			if (typeof ptr == "string") {
				$pointer = $(ptr);
			} else if (typeof ptr == "object") {
				$pointer = ptr;
			}
			
			if(!($pointer.is('img'))){
				alert('Object must be image.');
				return false;
			}

			magnification = +(magnification);

			$pointer.hover(function() {
				$(this).css('cursor', 'none');
				$('.magnify').show();
				//Setting some variables for later use
				var width = $(this).width();
				var height = $(this).height();
				var src = $(this).attr('src');
				var imagePos = $(this).offset();
				var image = $(this);

				if (magnifierSize == undefined) {
					magnifierSize = '150px';
				}

				$('.magnify').css({
					'background-size': width * magnification + 'px ' + height * magnification + "px",
					'background-image': 'url("' + src + '")',
					'width': magnifierSize,
					'height': magnifierSize
				});

				//Setting a few more...
				var magnifyOffset = +($('.magnify').width() / 2);
				var rightSide = +(imagePos.left + $(this).width());
				var bottomSide = +(imagePos.top + $(this).height());

				$(document).mousemove(function(e) {
					if (e.pageX < +(imagePos.left - magnifyOffset / 6) || e.pageX > +(rightSide + magnifyOffset / 6) || e.pageY < +(imagePos.top - magnifyOffset / 6) || e.pageY > +(bottomSide + magnifyOffset / 6)) {
						$('.magnify').hide();
						$(document).unbind('mousemove');
					}
					var backgroundPos = "" - ((e.pageX - imagePos.left) * magnification - magnifyOffset) + "px " + -((e.pageY - imagePos.top) * magnification - magnifyOffset) + "px";
					$('.magnify').css({
						'left': e.pageX - magnifyOffset,
						'top': e.pageY - magnifyOffset,
						'background-position': backgroundPos
					});
				});
			}, function() {

			});
		};

		this.init = function() {
			$('body').prepend('<div class="magnify"></div>');
		}

		return this.init();
	}

	var magnify = new magnifier();
	magnify.magnifyImg('.biggimg', magnification, magnifierSize);


	function addtocart(userid, productid) {
		fetch('/user/addtocart', {
			method: 'post',
			body: JSON.stringify({ productid, userid }),
			headers: { 'Content-Type': 'application/json' }
		})
		.then(response => response.json()) // Parse the JSON response
		.then(data => {
			// Check the server message and show appropriate alert
			if (data.message === 'product added to cart') {
				showCustomAlert('Added To Cart');
			} else if (data.message === 'product already exist') {
				showCustomAlert('Product already in cart');
			}
		})
		.catch((err) => {
			console.log(err);
		});
	}

	function showCustomAlert(message) {
							const notification = document.getElementById('customNotification');
							const messageElement = notification.querySelector('.notification-message');
							
							messageElement.textContent = message;
							notification.classList.add('active');
							
							// Hide after 3 seconds
							setTimeout(() => {
									notification.classList.remove('active');
							}, 2000);
					}

					function buy(id) {
			fetch('/user/checkout', {
					method: 'POST',
					headers: {
							'Content-Type': 'application/json'
					},
					body: JSON.stringify({ [id]: 1 })
			})
			.then(response => response.text()) // Get HTML response as text
			.then(html => {
					document.open();  // Open the document for writing
					document.write(html); // Replace entire page with new HTML
					document.close(); // Close the document
			})
			.catch(error => console.error('Error:', error));
	}
	// Related products carousel navigation
	const productsGrid = document.querySelector('.products-grid');
			const scrollAmount = document.querySelector('.product-card').offsetWidth * 5 + 30 * 5;
			
			document.querySelector('.nav-button.next').addEventListener('click', () => {
					productsGrid.scrollBy({ left: scrollAmount, behavior: 'smooth' });
			});

			document.querySelector('.nav-button.prev').addEventListener('click', () => {
					productsGrid.scrollBy({ left: -scrollAmount, behavior: 'smooth' });
			});
	</script>
		</body>

	<!-- Mirrored from template.hasthemes.com/hurst-v1/hurst/single-product.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 15 Jan 2025 07:07:04 GMT -->
	</html>
