<div class="card">
  <div class="card-body">
    <form class="forms-sample" onsubmit="updateproduct(event)">
      <div class="form-group">
        <input id="ogname" type="hidden" name="ogname" />
        <label>Name of Product</label>
        <input name="name" type="text" class="form-control" placeholder="Name" >
      </div>
      <div class="form-group">
        <label>Price</label>
        <input name="price" type="number" class="form-control" placeholder="Price" step="0.01" >
      </div>
      <div class="form-group">
        <label >Catogory</label>
        <select class="form-control" name="category" id="dropdown" name="options">
          <% options.forEach(option => { %>
            <option value="<%= option %>"><%= option %></option>
          <% }); %>
        </select>
      </div>
      <!-- here will be dynamically added varient fields -->
     
      
      

      <div class="form-group">
        <label>Rating</label>
        <input name="rating" type="number" class="form-control" placeholder="Rating (0-5)" step="0.1" min="0" max="5">
      </div>
      <div id="selectedVariants" class="mb-3">
        <!-- Selected variants will be displayed here -->
      </div>
      <button type="button" onclick="document.getElementById('varient_err').style.display='none'" class="btn btn-info mr-2" data-toggle="modal" data-target="#variantModal">
        Add Variant
      </button>
      <div class="image-upload-container">
        <div class="form-group image-upload-group">
          <label>Image 1</label>
          <div class="image-preview-container">
            <img id="img1" src="" alt="Product image 1" class="preview-image">
            <input onchange="cropper(1)" id="image1" type="file" accept="image/*" class="form-control">
            <img src="" alt="Cropped preview 1" id="prev1" class="cropped-preview">
          </div>
        </div>
        <div class="form-group image-upload-group">
          <label>Image 2</label>
          <div class="image-preview-container">
            <img id="img2" src="" alt="Product image 2" class="preview-image">
            <input onchange="cropper(2)" id="image2" type="file" accept="image/*" class="form-control">
            <img src="" alt="Cropped preview 2" id="prev2" class="cropped-preview">
          </div>
        </div>
        <div class="form-group image-upload-group">
          <label>Image 3</label>
          <div class="image-preview-container">
            <img id="img3" src="" alt="Product image 3" class="preview-image">
            <input onchange="cropper(3)" id="image3" type="file" accept="image/*" class="form-control">
            <img src="" alt="Cropped preview 3" id="prev3" class="cropped-preview">
          </div>
        </div>
      </div>
      <p class="text-danger" id="prducter"></p> 
      <button type="submit" class="btn btn-primary mr-2">Submit</button>
    </form>
  </div>
</div>

<style>
.image-upload-container {
    display: flex;
    justify-content: space-between;
    gap: 20px;
    margin-bottom: 20px;
}

.image-upload-group {
    flex: 1;
    margin-bottom: 20px;
}

.image-preview-container {
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.preview-image {
    width: 100%;
    max-width: 200px;
    height: auto;
    margin-bottom: 10px;
}

.cropped-preview {
    width: 100%;
    max-width: 200px;
    height: auto;
    display: none;
}

.image-upload-group input[type="file"] {
    width: 100%;
}
</style>

<!-- Variant Modal -->
<div class="modal fade" id="variantModal" tabindex="-1" role="dialog" aria-labelledby="variantModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="variantModalLabel">Add Variant</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label>Color</label>
          <select class="form-control" id="modalColorSelect">
            <option value="">Select a color</option>
            <option value="Black">Black</option>
            <option value="White">White</option>
            <option value="Red">Red</option>
            <option value="Blue">Blue</option>
            <option value="Green">Green</option>
            <option value="Gray">Gray</option>
            <option value="Navy">Navy</option>
            <option value="Brown">Brown</option>
            <option value="Beige">Beige</option>
            <option value="Pink">Pink</option>
          </select>
        </div>
        <div class="form-group">
          <label>Size</label>
          <select class="form-control" id="modalSizeSelect">
            <option value="">Select a size</option>
            <option value="S">S</option>
            <option value="M">M</option>
            <option value="L">L</option>
            <option value="XL">XL</option>
          </select>
        </div>
        <p id="varient_err" style="color: red; display: none;"></p>
      </div>
      
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary" onclick="addVariant()">Add Variant</button>
      </div>
    </div>
  </div>
</div>
